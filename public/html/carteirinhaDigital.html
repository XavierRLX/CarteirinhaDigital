<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#144bc9">
    <link rel="stylesheet" href="/style/styleCD.css">
    <title>Carteirinha Digital</title>
</head>

<body>
    <section class="parteAzul">
        <header>
            <section>
                <div class="iconsImg">
                    <img id="imgUsu" src="" alt="fotoEstudante">
                    <p></p>
                </div>
                <h1 id="nome">Nome</h1>
                <h2 id="email">email</h2>
                <h2 id="numeroTel">numero</h2>
            </section>
        </header>
        <p id="curso">nome do curso aqui</p>
        <div class="cardTop">
            <div class="logo">
                <img src="https://sia.estacio.br/sianet/Content/estacio/SiteNovo/dist/img/logos/logo-estacio-sia-v2.png"
                    alt="logo">
            </div>
        </div>
    </section>
    <section class="parteBranca">
        <div class="cardBottom">
            <div class="cardBottomMatricula">
                <p>Matrícula</p>
                <p id="matricula">n matricula</p>
            </div>
            <div class="cardBottomValidade">
                <p>Validade</p>
                <p id="validade">dt validade</p>
            </div>
        </div>
        <div class="containerAcessarCarteirinha">
            <img id="iconAC" src="https://cdn-icons-png.flaticon.com/128/7778/7778088.png" alt="iconAC">
            <p id="acessarCarteirinha">Acessar Carteirinha</p>
        </div>
        <section class="btnsPerfilConteiner">
            <h2>Meu perfil</h2>
            <div class="conteinerBtnsPerfil">
                <div class="btnsPerfil">
                    <img src="https://scontent.frao7-1.fna.fbcdn.net/v/t39.30808-6/449125803_7806165116165401_8107551637603119628_n.jpg?stp=cp0_dst-jpg&_nc_cat=102&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeF7WQn3l5433f1hgaZKSrX2wdcVcSH87SHB1xVxIfztIeToZQSBQu5j4ZEeAOiY5EEPu0t8WrEtClLS8-Tsl4sb&_nc_ohc=fW_Qh8f8LpIQ7kNvgG8KlC0&_nc_ht=scontent.frao7-1.fna&oh=00_AYCxczUY6wUwEJi54x_UFl4R4-iZPrX-Px6CxiZ1mRsObw&oe=667F94FE" alt="iconMeusDados">
                    <p>Meus dados</p>
                </div>
                <div class="btnsPerfil">
                    <img src="https://cdn-icons-png.flaticon.com/128/2319/2319201.png" alt="iconMeusDados">
                    <p>Privacidade</p>
                </div>
                <div class="btnsPerfil">
                    <img src="https://cdn-icons-png.flaticon.com/128/1947/1947270.png" alt="iconMeusDados">
                    <p>Envio de  documentação</p>
                </div>
            </div>
        </section>
        <footer>
            <p class="textC versaoApp">Versão do Aplicativo 5.29.0.</p>
            <a href="/login" title="cadastro Usuário" ><p class="textC sairApp">Sair do APP</p></a>
            </a>
        </footer>
        <nav id="menu">
            <section>
                <div class="btnFooter">
                    <img id="btnIni" src="https://scontent.frao7-1.fna.fbcdn.net/v/t39.30808-6/449152169_7806000029515243_6600176817628951417_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeH_nT14Km9FGwEgKmJo-4qfEdSO_MPi14oR1I78w-LXinGbgkDF2hd5K7LKgWYnLJ7BqN-hzIaySFuU_9MlIQzG&_nc_ohc=U2rpGDoimzMQ7kNvgH6GqlQ&_nc_ht=scontent.frao7-1.fna&oh=00_AYAMIW93puXdBI1nBls96BCojlL4pysCVAPx902dof0FNQ&oe=667F9DFC" alt="btnInicio">
                    <p>Início</p>
                </div>
                <div class="btnFooter">
                    <img id="btnCar" src="https://scontent.frao7-1.fna.fbcdn.net/v/t39.30808-6/449150734_7805999912848588_5193362543191275919_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeE9X8lwl5ME_kbdJADkKEyYmjT0aYK6S_aaNPRpgrpL9qru-500XA6_G-bhFust3K_krYfAffTmdSFaS26dBXvK&_nc_ohc=JM41qFJldggQ7kNvgHzcKRH&_nc_ht=scontent.frao7-1.fna&oh=00_AYAqWwoJqCQ5kQIELdS2zxVRQBKWyrydTuem15MPB1_YCg&oe=667F8FA0" alt="Carreira">
                    <p>Carrerias</p>
                </div>
                <div class="btnFooter">
                    <img id="btnFin" src="https://scontent.frao7-1.fna.fbcdn.net/v/t39.30808-6/449153819_7805999919515254_2339658828773595328_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeHgA0AcOdoADxOz70uk29zKSQmgMy1j2KNJCaAzLWPYo-_tnMvBFCZWx9aoqwWpTYsqbu95pcjT3Tow0bn0A1si&_nc_ohc=EiL0-cWQyNIQ7kNvgGbrO-p&_nc_ht=scontent.frao7-1.fna&oh=00_AYBxjfQF2l21DepevNydPZf5j9ksK-EX3AH8ZWScqL2P1A&oe=667F76B4" alt="Financeiro">
                    <p>Financeiro</p>
                </div>
                <div  class="btnFooter">
                    <img id="btnSup" src="https://scontent.frao7-1.fna.fbcdn.net/v/t39.30808-6/449151673_7805999906181922_5162165954695655731_n.jpg?stp=cp0_dst-jpg&_nc_cat=106&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeF8OPOX2R62PVP10KSmeA5ftU1PcAfFYQW1TU9wB8VhBTuD1-hvDN4qXGgza4spx4m4zvPyyzi0DAP2SHGctegG&_nc_ohc=JpBUGGmtnKUQ7kNvgE3wcCb&_nc_ht=scontent.frao7-1.fna&oh=00_AYDPGhEdiPCC9UDFMHF9ErUyxlPJ8iK8Aw4l9mZCkdSYgA&oe=667F6BA5" alt="Suporte">
                    <p>Suporte</p>
                </div>
                <div class="btnFooter">
                    <img id="btnPer" src="https://scontent.frao7-1.fna.fbcdn.net/v/t39.30808-6/449151466_7806152342833345_5163011387714342617_n.jpg?stp=cp0_dst-jpg&_nc_cat=106&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeEGnC1jS5LWRSMnCEbO63iirAjxCU6So1WsCPEJTpKjVQiJ3TpU0P28iBoLgHhEm-vaq-Ix2Xjn5_rrBKcMGTip&_nc_ohc=xgBXunItBmYQ7kNvgGsTCKx&_nc_ht=scontent.frao7-1.fna&oh=00_AYDfwcpy5o78NmwNLampmC6FV5T2yNae5I7uu1hadVhtIQ&oe=667F8D1A" alt="Perfil">
                    <p class="btnPerfA" >Perfil</p>
                </div>
            </section>
            
        </nav>
    </section>
    
    <div id="modal" class="modal">
        <div class="modal-content">
            <span id="closeModalBtn" class="close">
                <img src="https://scontent.frao7-1.fna.fbcdn.net/v/t39.30808-6/449121010_7816067515175161_8474247557375418408_n.jpg?stp=cp0_dst-jpg&_nc_cat=103&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeHIRPbpHJgBR6m_uCOr2nquAEWPiY2s_rsARY-Jjaz-u7Ixkx7x_KgMJ7B7VHe3PXCTfqtXtO6cajwMbZOmRZ8t&_nc_ohc=BIfBQJKQhagQ7kNvgF-U_un&_nc_ht=scontent.frao7-1.fna&oh=00_AYDjL2T50mHzHRKOyyUz7q7ufvRy8AoYyRn8dwKFW6vfbA&oe=668237BA" alt="">
            </span>
            <section id="modalCarteirinha">
                <div>
                    <img id="fotoUrlModal" src="" alt="fotoEstudante">
                </div>
                <div class="headerCarteirinha">
                    <p id="nomeCompletoModal">Nome</p>
                </div>
        
                <div class="modaldadosCarteirinha">
                    <div>
                    <div>
                        <p>CPF</p>
                        <p id="cpfModal">9999999</p>
                    </div>
                    <div>
                        <p>Nascimento</p>
                        <p id="dataNascimentoModal"></p>
                    </div>
                </div>
                <div>
                    <div>
                        <p>Matrícula</p>
                        <p id="matriculaModal">9999999</p>
                    </div>
                    <div>
                        <p >Validade</p>
                        <p id="validadeModal">jun 2024</p>
                    </div>
                </div>
                <div>
                    <div>
                        <p>Curso (Ativo)</p>
                        <p id="cursoModal"></p>
                    </div>
                    <div>
                        <p>Campus</p>
                        <p id="campusModal"></p>
                    </div>
                </div>
                </div>
            </section>
        </div>
    </div>
</body>

<!--S2Ab44TLNk5JG7mF senha supabse -->
<script>
    // Função para formatar o número de telefone
    function formatNumeroTel(numeroTel) {
        numeroTel = String(numeroTel).replace(/\D/g, ''); // Converte para string e remove todos os caracteres não numéricos
        return numeroTel.replace(/^(\d{2})(\d{5})(\d{4})$/, '($1) $2-$3'); // Formata o número
    }

    //Função para formatar o número matrícula
    function formatMatricula(matricula) {
        matricula = String(matricula).replace(/\D/g, ''); 
        return matricula.replace(/(\d{4})(\d{4})(\d{4})/, '$1 $2 $3');
    }

    // Recupera as informações do usuário do localStorage e exibe na página
    const userInfo = JSON.parse(localStorage.getItem('userInfo'));
    if (userInfo) {
        document.getElementById('nome').innerHTML = `${userInfo.nomePerfil} `;
        document.getElementById('email').innerHTML = `${userInfo.email} `;
        document.getElementById('imgUsu').src = userInfo.fotoUrl;
        document.getElementById('numeroTel').innerHTML = formatNumeroTel(userInfo.numeroTel);
        document.getElementById('curso').innerHTML = `${userInfo.curso} `;
        document.getElementById('validade').innerHTML = `${userInfo.validade} `;
        document.getElementById('matricula').innerHTML = formatMatricula(userInfo.matricula);
    } else {
        alert('Informações do usuário não encontradas');
        window.location.href = 'cadastroUsu.html'; // Redireciona para a página de cadastro se as informações não forem encontradas
    }

    const  userInfoModal = JSON.parse(localStorage.getItem('userInfo'));
    if (userInfo) {
        document.getElementById('fotoUrlModal').src = `${userInfoModal.fotoUrl}`
        document.getElementById('nomeCompletoModal').innerHTML = `${userInfoModal.nome}`
        document.getElementById('cpfModal').innerHTML = `${userInfoModal.cpf}`
        document.getElementById('dataNascimentoModal').innerHTML = `${userInfoModal.dataNascimento}`
        document.getElementById('matriculaModal').innerHTML = `${userInfoModal.matricula}`
        document.getElementById('validadeModal').innerHTML = `${userInfoModal.validade}`
        document.getElementById('cursoModal').innerHTML = `${userInfoModal.curso}`
        document.getElementById('campusModal').innerHTML = `${userInfoModal.campus}`
        }

    document.getElementById('acessarCarteirinha').addEventListener('click', function() {
    document.getElementById('modal').style.display = 'flex';
    document.getElementById('menu').style.display = 'none'
});

document.getElementById('closeModalBtn').addEventListener('click', function() {
    document.getElementById('modal').style.display = 'none';
    document.getElementById('menu').style.display = 'inline'
});

window.addEventListener('click', function(event) {
    if (event.target === document.getElementById('modal')) {
        document.getElementById('modal').style.display = 'none';
    }
});




</script>

</html>